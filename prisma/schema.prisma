generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE")
}

model faq {
  id         Int        @id @default(autoincrement())
  title      String
  slug       String     @unique(map: "Plan_slug_key")
  dynamic    Boolean    @default(false)
  user_id    Int
  created_at DateTime   @default(now())
  updated_at DateTime
  user       user       @relation(fields: [user_id], references: [id], map: "FAQ_user_id_fkey")
  question   question[]

  @@index([slug, id], map: "FAQ_slug_id_idx")
  @@index([user_id], map: "FAQ_user_id_fkey")
}

model plan {
  id         Int      @id @default(autoincrement())
  title      String
  slug       String   @unique(map: "Plan_slug_key")
  created_at DateTime @default(now())
  updated_at DateTime
  user       user[]

  @@index([slug, id], map: "Plan_slug_id_idx")
}

model question {
  id         Int      @id @default(autoincrement())
  title      String
  dynamic    Boolean  @default(false)
  faq_id     Int
  created_at DateTime @default(now())
  updated_at DateTime
  faq        faq      @relation(fields: [faq_id], references: [id], map: "Question_faq_id_fkey")

  @@index([faq_id], map: "Question_faq_id_fkey")
  @@index([id], map: "Question_id_idx")
}

model user {
  id         Int      @id @default(autoincrement())
  created_at DateTime @default(now())
  plan_id    Int?
  store      String   @unique(map: "User_store_key")
  updated_at DateTime
  plan       plan?    @relation(fields: [plan_id], references: [id], map: "User_plan_id_fkey")
  faq        faq[]

  @@index([plan_id], map: "User_plan_id_fkey")
  @@index([store], map: "User_store_idx")
}
